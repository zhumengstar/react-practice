<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Component state!</title>
	<script src="react.js"></script>
	<script src="react-dom.js"></script>
	<script src="browser.min.js"></script>
</head>
<body>
	<div id="container"></div>
	<script type="text/babel">
		var destination=document.querySelector("#container");

		var LightningCounter = React.createClass({  
			getInitialState:function(){
				return{strikes:0};
			},

			timerTrik:function(){
				this.setState({
						strikes:this.state.strikes+100
				});
			},

			componentDidMount:function(){
				setInterval(this.timerTrik,1000)
			},
			render:function(){
				var counterStyle={
					color:"#66FFFF",
					fontSize:50
				};
				var count=this.state.strikes.toLocaleString();
				return(<div style={counterStyle}>
				{count}</div>);
			}
		});

		var LightningCounterDisplay=React.createClass({
			render:function(){
				var commonStyle={
					margin:0,
					padding:0
				};
				var divStyle={
					width:300,
					textAlign:"center",
					backgroundColor:"black",
					padding:45,
					color:"#994",
					fontFamily:"sans-serif",
					borderRadius:10
				};

				var textStyle={
					emphasis:{
						fontSize:38,
						...commonStyle
					},
					smallEmpasis:{
						...commonStyle
					}, 
					small:{
						fontSize:17,
						opacity:0.5,
						...commonStyle
					}
				};
				

			
				return(
					<div style={divStyle}>
							<LightningCounter/>
							<h2 style={textStyle.smallEmpasis}>		雷霆打击
							</h2>
							
							<h2 style={textStyle.emphasis}>			我们的地球
							</h2>
							<p style={textStyle.smallEmpasis}>(自从我们加载这个组键)</p>
					</div>
				);
			}
		});

		ReactDOM.render(
			<LightningCounterDisplay/>,
			destination
		)
	</script>


</body>
</html>